<html>
  <body>

    <section id = "networkspace"></section>

    <script src="d3.v3.min.js" charset="utf-8"></script>
    <script>
      var url = 'https://gist.githubusercontent.com/d3byex/5a8267f90a0d215fcb3e/raw/ba3b2e3065ca8eafb375f01155dc99c569fae66b/uni_network.json';
      d3.json (url, function (data) {
        var margin = {top: 30, bottom: 30, left: 30, right: 30},
          width = 1000, height = 500;
        var colorScheme = d3.scale.category20 ();

        var svg = d3.select ('#networkspace')
          .append ('svg')
          .attr ({
            width: width,
            height: height
          })
          .style ('background-color', 'lightblue');

          var forceLayout = d3.layout.force ()
            .nodes (data.nodes)
            .links (data.edges)
            .size ([width, height])   //[width-(margin.left+margin.right), height-(margin.top+margin.bottom)]
            .charge (-700)
            .friction (0.7)
            .linkDistance (50)
            .start ();

          var edges = svg.selectAll ('line')
            .data (data.edges)
            .enter ()
            .append ('line')
            .attr ({
              stroke: 'black',
              'stroke-width': 2
            });

            var nodes = svg.selectAll('g')
              .data(data.nodes)
              .enter()
              .append('g')
              .call(forceLayout.drag);

            nodes.append('circle')
              .attr ({
                r: 10,
                fill: function (d, i) { return colorScheme (i); },
                'fill-opacity': 0.7
              })
              .call(forceLayout.drag);

              nodes.append('text')
                  .attr({
                          dx: 12,
                          dy: '.35em',
                          'pointer-events': 'none'
                      })
              .style('font', '10px sans-serif')
                      .text(function (d) { return d.name });

              forceLayout.on('tick', function () {
                  edges.each(function (d) {
                      d3.select(this).attr({
                          x1: d.source.x,
                          y1: d.source.y,
                          x2: d.target.x,
                          y2: d.target.y
                      });
                  });

                  nodes.attr('transform', function (d) { return 'translate(' + d.x + ',' + d.y + ')'; });
              });
      });
    </script>
  </body>
</html>
